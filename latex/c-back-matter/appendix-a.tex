\chapter*{\makebox[\textwidth][l]{Appendix A: Reproducibility Guide}}
\addcontentsline{toc}{chapter}{Appendix A: Reproducibility Guide}
\begingroup
\justifying
\setlength{\parindent}{0pt}
\setstretch{1.5}
\setlength{\parskip}{0.5\baselineskip}
\titlespacing{\chapter}{0pt}{0pt}{0pt}
\titlespacing{\section}{0pt}{0pt}{0pt}

\section{Repository Structure}
Key folders used during reproduction:
\begin{itemize}
    \item \texttt{contracts/}: Solidity contracts.
    \item \texttt{circuits/}: Circom circuits for Groth16 proofs.
    \item \texttt{frontend/}: voter and admin pages.
    \item \texttt{crypto/}: Python ElGamal implementation.
    \item \texttt{test/}: Hardhat integration tests.
    \item \texttt{tests/}: Python unit tests.
\end{itemize}

\section{Dependency Installation}
\begin{verbatim}
npm install
pip install -r requirements.txt
\end{verbatim}

\section{Local Development Run}
A standard local run uses three terminals:
\begin{verbatim}
# Terminal 1
npx hardhat node

# Terminal 2
npx hardhat run scripts/deploy.js --network localhost

# Terminal 3
python -m uvicorn server:app --port 8000
\end{verbatim}

Then open:
\begin{itemize}
    \item Voter page: \texttt{http://localhost:8000/}
    \item Admin page: \texttt{http://localhost:8000/admin}
\end{itemize}

\section{Test Execution}
Run both verification suites:
\begin{verbatim}
npx hardhat test
python -m pytest tests/ -q
\end{verbatim}

\section{End-to-End Demo Script}
\begin{enumerate}
    \item On admin page: add two candidates using the \texttt{addCandidates} function (circuits are compiled for $N=2$).
    \item Register voter addresses. \textit{Note: in local development mode, the deploy script automatically registers the first five test accounts as voters; manual registration via the admin page is required for testnet or production deployments.}
    \item Start election.
    \item On voter page: connect wallet, select candidate, submit vote. Repeat for multiple voters.
    \item On admin page: end election.
    \item Load administrator secret key, run tally procedure, submit tally with ZKP3.
    \item Export \texttt{audit\_bundle.json}.
    \item On voter page: paste receipt JSON and audit bundle JSON, run anonymous verification.
\end{enumerate}

\section{Expected Artifacts}
A successful run produces:
\begin{itemize}
    \item vote transactions with \texttt{EncryptedVoteCast} events;
    \item a final tally transaction;
    \item \texttt{audit\_bundle.json} containing Merkle root and proofs;
    \item successful inclusion verification on voter side.
    \item Note: each on-chain vote record includes a \texttt{counted} field reserved for future use; it remains \texttt{false} in the current implementation.
\end{itemize}

\endgroup
